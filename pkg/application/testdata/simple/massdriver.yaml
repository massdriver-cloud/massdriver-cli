schema: draft-07
name: my-app
description: An application
ref: github.com/user/app
type: application
access: private

params:
  required: ["name"]
  properties:
    name:
      type: string
      title: Name

connections:
  required:
    - gcp_authentication
  properties:
    gcp_authentication:
      $ref: massdriver/gcp-service-account

app:
  envs:
    MONGO_USERNAME: connections.mongo.authentication.username
    LOG_LEVEL: params.log_level
    STRIPE_KEY: secrets.ecomm_site_stripe_key
  policies:
    - connections.sqs.security.policies.read
    - connections.s3.security.policies.write
